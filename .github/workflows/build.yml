
name: Build GTAF
run-name: GTAF 0.0.1.${{ github.run_number }}

on:
  push:
    branches: [ "main" ]
    paths:
      - "**.cpp"
      - "**.h"
      - "CMakeLists.txt"
      - ".github/workflows/build.yml"
      - ".github/workflows/build-linux.yml"
      - ".github/workflows/build-windows.yml"

jobs:

  build-linux:
    uses: ./.github/workflows/build-linux.yml
    with:
      GTAF_FULL_VERSION: 0.0.1.${{ github.run_number }}
      BUILD_TYPE: Release
  build-windows:
    uses: ./.github/workflows/build-windows.yml
    with:
      GTAF_FULL_VERSION: 0.0.1.${{ github.run_number }}
      BUILD_TYPE: Release
